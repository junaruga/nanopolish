# travis.yml for github.com/jts/nanopolish

language: generic

matrix:
  include:
    - os: linux
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
          update: true
          packages:
            - gcc-4.8
            - g++-4.8
      env:
        - CC=gcc-4.8
        - CXX=g++-4.8
        - AR=gcc-ar-4.8
        - NM=gcc-nm-4.8
        - RANLIB=gcc-ranlib-4.8
    - os: linux
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
          update: true
          packages:
            - gcc-8
            - g++-8
      env:
        - CC=gcc-8
        - CXX=g++-8
        - AR=gcc-ar-8
        - NM=gcc-nm-8
        - RANLIB=gcc-ranlib-8

script:
  # Suppress all compiler warnings for hdf5 Makefile
  # to display the log without downloading the raw log on Travis log page.
  - export H5_CFLAGS="-w"
  - make nanopolish && make test
